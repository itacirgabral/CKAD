For this question, please set the context to cluster1 by running:


kubectl config use-context cluster1


Please use the namespace nginx-deployment for the following scenario.

Create a deployment with name nginx-ckad11 using nginx image with 2 replicas. Also expose the deployment via ClusterIP service .i.e. nginx-ckad11-service on port 80. Use the label app=nginx-ckad for both resources.


Now, create a NetworkPolicy .i.e. ckad-allow so that only pods with label criteria: allow can access the deployment on port 80 and apply it.